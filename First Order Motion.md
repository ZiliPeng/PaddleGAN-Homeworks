# ä¸‡ä¼—æœŸå¾…çš„ã€å¤šäººç‰ˆã€‘èš‚èšå‘€å˜¿ğŸœ æ¥äº†ï¼--PaddleGANè‰¯å¿ƒä¹‹ä½œ

å¤§å®¶æ˜¯ä¸æ˜¯ç©ã€Œå•äººç‰ˆã€çš„èš‚èšå‘€å˜¿ç©çš„å¾ˆçˆ½äº†å‘¢ï¼Ÿå¼€å§‹è§‰å¾—ä¸è¢«æ»¡è¶³ï¼Ÿæƒ³è¦å°è¯•ä¸åˆ«äººå…±èˆã€Œèš‚èšå‘€å˜¿ã€ï¼Ÿæƒ³è¦çš„æ°¸è¿œæ¯”æ‹¥æœ‰çš„æ›´å¤šï¼Ÿ
![](https://ai-studio-static-online.cdn.bcebos.com/9e17be2b3a5f49ce90cc42d6f05d3638490dd4c09f3246ec9fec2a5e0b1d3112)

åˆ«æ…Œï¼ï¼[PaddleGAN](https://github.com/PaddlePaddle/PaddleGAN)è‰¯å¿ƒåˆ¶ä½œï¼Œåœ¨å•äººç‰ˆè¢«å¤§å®¶ç–¯ä¼ ä¹‹åï¼Œä»Šå¤©ï¼Œ[PaddleGAN](https://github.com/PaddlePaddle/PaddleGAN)å¸¦æ¥äº†å¤šäººç‰ˆæœ¬çš„å®ç°ï¼ï¼

**æ— éœ€åˆ‡æ¢ä»»ä½•è½¯ä»¶æˆ–å®‰è£…åŒ…ï¼Œæ‰‹æŠŠæ‰‹æ•™ä½ å¦‚ä½•ä¸€é”®å®ç°å¤šäººä¹±èˆèš‚èšå‘€å˜¿**ğŸ¤©ğŸ¤©ğŸ¤©

ğŸ§¡ğŸ’›ğŸ§¡ğŸ’›ğŸ§¡ğŸ§¡ğŸ’›ğŸ§¡ğŸ’›ğŸ§¡ğŸ§¡ğŸ’›ğŸ§¡ğŸ’›ğŸ§¡ğŸ§¡ğŸ’›ğŸ§¡ğŸ’›ğŸ§¡ğŸ§¡ğŸ’›ğŸ§¡ğŸ’›ğŸ§¡ğŸ§¡ğŸ’›ğŸ§¡ğŸ’›ğŸ§¡

**ğŸ¥³ğŸ¥³ æ›´ç»çš„æ˜¯ï¼Œæ­¤æ¬¡å‡çº§ç‰ˆæ— è®ºæ˜¯å•äººç‰ˆè¿˜æ˜¯å¤šäººç‰ˆéƒ½å¯é€šç”¨ï¼ğŸ¥³ğŸ¥³**

ğŸ§¡ğŸ’›ğŸ§¡ğŸ’›ğŸ§¡ğŸ§¡ğŸ’›ğŸ§¡ğŸ’›ğŸ§¡ğŸ§¡ğŸ’›ğŸ§¡ğŸ’›ğŸ§¡ğŸ§¡ğŸ’›ğŸ§¡ğŸ’›ğŸ§¡ğŸ§¡ğŸ’›ğŸ§¡ğŸ’›ğŸ§¡ğŸ§¡ğŸ’›ğŸ§¡ğŸ’›ğŸ§¡

æ¥ä¸‹æ¥ï¼Œå¿«å’Œ[PaddleGAN](https://github.com/PaddlePaddle/PaddleGAN)ä¸€èµ·æ¥åŠ¨æ‰‹å®ç°å§ï¼

æ•´ä¸ªå®ç°æ­¥éª¤è¿˜æ˜¯è€æ ·å­ï¼Œåˆ†ä¸ºä¸‰æ­¥ï¼š
1. ä¸‹è½½[PaddleGAN](https://github.com/PaddlePaddle/PaddleGAN)
2. è¿è¡ŒFirst Order Motionå‘½ä»¤
3. é…ä¸ŠéŸ³ä¹ğŸµ

ç„¶åï¼Œä¼˜ç§€çš„ä½ å°±æ‹¥æœ‰äº†ä¸€ä¸ªé¡¶çº§å®è—æŠ€èƒ½ï¼Œä¸€é”®å®ç°å¤šäººèš‚èšå‘€å˜¿ï¼ï¼å¿«å»å’Œä½ èº«è¾¹æœ‹å‹ç‚«è€€å§~~

ä¸è¦å¿˜è®°ç»™[PaddleGAN](https://github.com/PaddlePaddle/PaddleGAN)ç‚¹Staræ”¯æŒå™¢~~![](https://ai-studio-static-online.cdn.bcebos.com/dadbafa290874810bb3ff387f7c76ff250ff97aef1534e418b24ee0a4c97bee1)

## æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥è®©ç™¾å¹´å‰æ²¹ç”»ä¸­çš„äººç‰©ä¸€èµ·ã€Œèš‚èšå‘€å˜¿ã€å§~

PaddleGANæ–½é­”æ³•å‰ï¼š

<div align='left'>
  <img src='https://ai-studio-static-online.cdn.bcebos.com/32c666383dc44666b76effb76a094e4ffc57e3d5b1104fe8a7f3759378b188f7' width='600'/>
</div>

PaddleGANæ–½é­”æ³•åï¼š

![](https://ai-studio-static-online.cdn.bcebos.com/fb3b30f51a3545fab0508ac72c4f9c5d9e943563f5e74466a8b5dbf2f77aed6c)


## ã€å¤šäººç‰ˆã€‘èš‚èšå‘€å˜¿æŠ€æœ¯æµç¨‹
æ•´ä½“æµç¨‹åˆ†ä¸ºä¸‰æ­¥ï¼š
1. å°†ç…§ç‰‡ä¸­çš„å¤šäººè„¸ä½¿ç”¨äººè„¸æ£€æµ‹æ¨¡å‹S3FDæ¡†å‡ºå¹¶æŠ å‡º
2. å¯¹æŠ å‡ºçš„äººè„¸ç”¨First Order Motionè¿›è¡Œè„¸éƒ¨è¡¨æƒ…è¿ç§»
3. å°†è¿ç§»å¥½çš„äººè„¸æ”¾å›å¯¹åº”çš„åŸä½ç½®

**æ³¨æ„ï¼Œç”±äºäººè„¸æ£€æµ‹åï¼Œéœ€è¦ç¡®å®šä½ç½®å°†äººè„¸æ¡†å‡ºæ¥å¹¶æŠ å‡ºï¼Œå¦‚æœäººè„¸å¤ªè¿‘ï¼Œä¼šæ¡†åˆ°é™¤äº†å…¶ä»–çš„è„¸ï¼Œå¯¼è‡´æ•ˆæœè¾ƒå·®ï¼Œå¦‚ä¸‹å›¾**

<div align='center'>
  <img src='https://ai-studio-static-online.cdn.bcebos.com/b5d61c87269d4725ab194879343e56ce232b497ec6974f9e84881e4c199f6a40' width='300'/>
</div>

**æ‰€ä»¥å°½é‡é€‰å–äººè„¸é—´è·è¾ƒå¤§çš„ç…§ç‰‡ï¼ŒåŒæ—¶ï¼Œæ¡†çš„å¤§å°éœ€è¦æ ¹æ®ç…§ç‰‡ä¸­äººè„¸é—´è·æƒ…å†µè¿›è¡Œè°ƒèŠ‚ï¼ˆå‚æ•°--ratioï¼‰**

## ä¸‹è½½PaddleGAN


```python
# ä»githubä¸Šå…‹éš†PaddleGANä»£ç 
#!git clone https://github.com/PaddlePaddle/PaddleGAN
!git clone https://gitee.com/paddlepaddle/PaddleGAN.git
%cd PaddleGAN
!git checkout develop
```

    /home/aistudio/PaddleGAN
    fatal: Not a git repository (or any parent up to mount point /home/aistudio)
    Stopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).



```python
%cd PaddleGAN
!git checkout develop
```

    [Errno 2] No such file or directory: 'PaddleGAN'
    /home/aistudio/PaddleGAN
    fatal: Not a git repository (or any parent up to mount point /home/aistudio)
    Stopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).



```python
# å®‰è£…æ‰€éœ€å®‰è£…åŒ…
%cd PaddleGAN/
!pip install -r requirements.txt
!pip install imageio-ffmpeg
%cd applications/
```

    [Errno 2] No such file or directory: 'PaddleGAN/'
    /home/aistudio/PaddleGAN
    Looking in indexes: https://mirror.baidu.com/pypi/simple/
    Requirement already satisfied: tqdm in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from -r requirements.txt (line 1)) (4.36.1)
    Requirement already satisfied: PyYAML>=5.1 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from -r requirements.txt (line 2)) (5.1.2)
    Collecting scikit-image>=0.14.0 (from -r requirements.txt (line 3))
    [?25l  Downloading https://mirror.baidu.com/pypi/packages/fe/01/3a830f3df578ea3ed94ee7fd9f91e85c3dec2431d8548ab1c91869e51450/scikit_image-0.18.1-cp37-cp37m-manylinux1_x86_64.whl (29.2MB)
    [K     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 29.2MB 8.9MB/s eta 0:00:012
    [?25hRequirement already satisfied: scipy>=1.1.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from -r requirements.txt (line 4)) (1.3.0)
    Requirement already satisfied: opencv-python in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from -r requirements.txt (line 5)) (4.1.1.26)
    Requirement already satisfied: imageio-ffmpeg in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from -r requirements.txt (line 6)) (0.3.0)
    Collecting librosa==0.7.0 (from -r requirements.txt (line 7))
    [?25l  Downloading https://mirror.baidu.com/pypi/packages/ad/6e/0eb0de1c9c4e02df0b40e56f258eb79bd957be79b918511a184268e01720/librosa-0.7.0.tar.gz (1.6MB)
    [K     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1.6MB 31.0MB/s eta 0:00:01
    [?25hRequirement already satisfied: numba==0.48 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from -r requirements.txt (line 8)) (0.48.0)
    Requirement already satisfied: easydict in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from -r requirements.txt (line 9)) (1.9)
    Collecting munch (from -r requirements.txt (line 10))
      Downloading https://mirror.baidu.com/pypi/packages/cc/ab/85d8da5c9a45e072301beb37ad7f833cd344e04c817d97e0cc75681d248f/munch-2.5.0-py2.py3-none-any.whl
    Requirement already satisfied: matplotlib!=3.0.0,>=2.0.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from scikit-image>=0.14.0->-r requirements.txt (line 3)) (2.2.3)
    Requirement already satisfied: pillow!=7.1.0,!=7.1.1,>=4.3.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from scikit-image>=0.14.0->-r requirements.txt (line 3)) (7.1.2)
    Collecting PyWavelets>=1.1.1 (from scikit-image>=0.14.0->-r requirements.txt (line 3))
    [?25l  Downloading https://mirror.baidu.com/pypi/packages/62/bd/592c7242fdd1218a96431512e77265c50812315ef72570ace85e1cfae298/PyWavelets-1.1.1-cp37-cp37m-manylinux1_x86_64.whl (4.4MB)
    [K     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 4.4MB 13.5MB/s eta 0:00:01
    [?25hCollecting numpy>=1.16.5 (from scikit-image>=0.14.0->-r requirements.txt (line 3))
    [?25l  Downloading https://mirror.baidu.com/pypi/packages/73/ef/8967d406f3f85018ceb5efab50431e901683188f1741ceb053efcab26c87/numpy-1.20.2-cp37-cp37m-manylinux2010_x86_64.whl (15.3MB)
    [K     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 15.3MB 8.3MB/s eta 0:00:011
    [?25hRequirement already satisfied: imageio>=2.3.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from scikit-image>=0.14.0->-r requirements.txt (line 3)) (2.6.1)
    Collecting tifffile>=2019.7.26 (from scikit-image>=0.14.0->-r requirements.txt (line 3))
    [?25l  Downloading https://mirror.baidu.com/pypi/packages/c0/9b/db2b4777156c755ea589cb93ae50fc12a39119623bd7eca9bb8eaab523fc/tifffile-2021.4.8-py3-none-any.whl (165kB)
    [K     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 174kB 26.0MB/s eta 0:00:01
    [?25hRequirement already satisfied: networkx>=2.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from scikit-image>=0.14.0->-r requirements.txt (line 3)) (2.4)
    Requirement already satisfied: audioread>=2.0.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from librosa==0.7.0->-r requirements.txt (line 7)) (2.1.8)
    Requirement already satisfied: scikit-learn!=0.19.0,>=0.14.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from librosa==0.7.0->-r requirements.txt (line 7)) (0.22.1)
    Requirement already satisfied: joblib>=0.12 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from librosa==0.7.0->-r requirements.txt (line 7)) (0.14.1)
    Requirement already satisfied: decorator>=3.0.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from librosa==0.7.0->-r requirements.txt (line 7)) (4.4.0)
    Requirement already satisfied: six>=1.3 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from librosa==0.7.0->-r requirements.txt (line 7)) (1.15.0)
    Requirement already satisfied: resampy>=0.2.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from librosa==0.7.0->-r requirements.txt (line 7)) (0.2.2)
    Requirement already satisfied: soundfile>=0.9.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from librosa==0.7.0->-r requirements.txt (line 7)) (0.10.3.post1)
    Requirement already satisfied: setuptools in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from numba==0.48->-r requirements.txt (line 8)) (41.4.0)
    Requirement already satisfied: llvmlite<0.32.0,>=0.31.0dev0 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from numba==0.48->-r requirements.txt (line 8)) (0.31.0)
    Requirement already satisfied: cycler>=0.10 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from matplotlib!=3.0.0,>=2.0.0->scikit-image>=0.14.0->-r requirements.txt (line 3)) (0.10.0)
    Requirement already satisfied: kiwisolver>=1.0.1 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from matplotlib!=3.0.0,>=2.0.0->scikit-image>=0.14.0->-r requirements.txt (line 3)) (1.1.0)
    Requirement already satisfied: python-dateutil>=2.1 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from matplotlib!=3.0.0,>=2.0.0->scikit-image>=0.14.0->-r requirements.txt (line 3)) (2.8.0)
    Requirement already satisfied: pyparsing!=2.0.4,!=2.1.2,!=2.1.6,>=2.0.1 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from matplotlib!=3.0.0,>=2.0.0->scikit-image>=0.14.0->-r requirements.txt (line 3)) (2.4.2)
    Requirement already satisfied: pytz in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from matplotlib!=3.0.0,>=2.0.0->scikit-image>=0.14.0->-r requirements.txt (line 3)) (2019.3)
    Requirement already satisfied: cffi>=1.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from soundfile>=0.9.0->librosa==0.7.0->-r requirements.txt (line 7)) (1.14.0)
    Requirement already satisfied: pycparser in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from cffi>=1.0->soundfile>=0.9.0->librosa==0.7.0->-r requirements.txt (line 7)) (2.19)
    Building wheels for collected packages: librosa
      Building wheel for librosa (setup.py) ... [?25ldone
    [?25h  Created wheel for librosa: filename=librosa-0.7.0-cp37-none-any.whl size=1598346 sha256=db2fa6d938937f19b35fbe39000e0731636bf5ac2c436afc7f1f08e5bc2db55d
      Stored in directory: /home/aistudio/.cache/pip/wheels/81/7e/60/c27574fffbf2f28075dbf4b28c00d3fe3240fefb51d597932e
    Successfully built librosa
    [31mERROR: blackhole 0.3.2 has requirement xgboost==1.1.0, but you'll have xgboost 1.3.3 which is incompatible.[0m
    Installing collected packages: numpy, PyWavelets, tifffile, scikit-image, librosa, munch
      Found existing installation: numpy 1.16.4
        Uninstalling numpy-1.16.4:
          Successfully uninstalled numpy-1.16.4
      Found existing installation: librosa 0.7.2
        Uninstalling librosa-0.7.2:
          Successfully uninstalled librosa-0.7.2
    Successfully installed PyWavelets-1.1.1 librosa-0.7.0 munch-2.5.0 numpy-1.20.2 scikit-image-0.18.1 tifffile-2021.4.8
    Looking in indexes: https://mirror.baidu.com/pypi/simple/
    Requirement already satisfied: imageio-ffmpeg in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (0.3.0)
    /home/aistudio/PaddleGAN/applications


## æ‰§è¡Œå‘½ä»¤

å¤§å®¶å¯ä»¥ä¸Šä¼ è‡ªå·±å‡†å¤‡çš„è§†é¢‘å’Œå›¾ç‰‡ï¼Œå¹¶åœ¨å¦‚ä¸‹å‘½ä»¤ä¸­çš„source_imageå‚æ•°å’Œdriving_videoå‚æ•°åˆ†åˆ«æ¢æˆè‡ªå·±çš„å›¾ç‰‡å’Œè§†é¢‘è·¯å¾„ï¼Œç„¶åè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå°±å¯ä»¥å®ŒæˆåŠ¨ä½œè¡¨æƒ…è¿ç§»ï¼Œç¨‹åºè¿è¡ŒæˆåŠŸåï¼Œä¼šåœ¨ouputæ–‡ä»¶å¤¹ç”Ÿæˆåä¸ºresult.mp4çš„è§†é¢‘æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å³ä¸ºåŠ¨ä½œè¿ç§»åçš„è§†é¢‘ã€‚

åŒæ—¶ï¼Œæ ¹æ®è‡ªå·±ä¸Šä¼ çš„ç…§ç‰‡ä¸­äººè„¸çš„é—´è·ï¼Œ

æœ¬é¡¹ç›®ä¸­æä¾›äº†åŸå§‹å›¾ç‰‡å’Œé©±åŠ¨è§†é¢‘ä¾›å±•ç¤ºä½¿ç”¨ã€‚å…·ä½“çš„å„å‚æ•°ä½¿ç”¨è¯´æ˜å¦‚ä¸‹
- driving_video: é©±åŠ¨è§†é¢‘ï¼Œè§†é¢‘ä¸­äººç‰©çš„è¡¨æƒ…åŠ¨ä½œä½œä¸ºå¾…è¿ç§»çš„å¯¹è±¡
- source_image: åŸå§‹å›¾ç‰‡ï¼Œè§†é¢‘ä¸­äººç‰©çš„è¡¨æƒ…åŠ¨ä½œå°†è¿ç§»åˆ°è¯¥åŸå§‹å›¾ç‰‡ä¸­çš„äººç‰©ä¸Š
- relative: æŒ‡ç¤ºç¨‹åºä¸­ä½¿ç”¨è§†é¢‘å’Œå›¾ç‰‡ä¸­äººç‰©å…³é”®ç‚¹çš„ç›¸å¯¹åæ ‡è¿˜æ˜¯ç»å¯¹åæ ‡ï¼Œå»ºè®®ä½¿ç”¨ç›¸å¯¹åæ ‡ï¼Œè‹¥ä½¿ç”¨ç»å¯¹åæ ‡ï¼Œä¼šå¯¼è‡´è¿ç§»åäººç‰©æ‰­æ›²å˜å½¢
- adapt_scale: æ ¹æ®å…³é”®ç‚¹å‡¸åŒ…è‡ªé€‚åº”è¿åŠ¨å°ºåº¦
- ratioï¼šå°†æ¡†å‡ºæ¥çš„äººè„¸è´´å›åŸå›¾æ—¶çš„åŒºåŸŸå å®½é«˜çš„æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º0.4ï¼ŒèŒƒå›´ä¸ºã€0.4ï¼Œ0.5ã€‘





```python
!export PYTHONPATH=$PYTHONPATH:/home/aistudio/PaddleGAN && python -u tools/first-order-demo.py  --driving_video ~/work/2.MP4  --source_image ~/work/1.jpg --ratio 0.4 --relative --adapt_scale 
```

    /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/setuptools/depends.py:2: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses
      import imp
    /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layers/utils.py:26: DeprecationWarning: `np.int` is a deprecated alias for the builtin `int`. To silence this warning, use `int` by itself. Doing this will not modify any behavior and is safe. When replacing `np.int`, you may wish to use e.g. `np.int64` or `np.int32` to specify the precision. If you wish to review your current use, check the release note link for additional information.
    Deprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations
      def convert_to_list(value, n, name, dtype=np.int):
    /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/scipy/linalg/__init__.py:217: DeprecationWarning: The module numpy.dual is deprecated.  Instead of using dual, use the functions directly from numpy or scipy.
      from numpy.dual import register_func
    /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/scipy/special/orthogonal.py:81: DeprecationWarning: `np.int` is a deprecated alias for the builtin `int`. To silence this warning, use `int` by itself. Doing this will not modify any behavior and is safe. When replacing `np.int`, you may wish to use e.g. `np.int64` or `np.int32` to specify the precision. If you wish to review your current use, check the release note link for additional information.
    Deprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations
      from numpy import (exp, inf, pi, sqrt, floor, sin, cos, around, int,
    /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/scipy/io/matlab/mio5.py:98: DeprecationWarning: `np.bool` is a deprecated alias for the builtin `bool`. To silence this warning, use `bool` by itself. Doing this will not modify any behavior and is safe. If you specifically wanted the numpy scalar type, use `np.bool_` here.
    Deprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations
      from .mio5_utils import VarReader5
    [04/19 22:21:04] ppgan INFO: Found /home/aistudio/.cache/ppgan/vox-cpk.pdparams
    W0419 22:21:04.113543   783 device_context.cc:362] Please NOTE: device: 0, GPU Compute Capability: 7.0, Driver API Version: 10.1, Runtime API Version: 10.1
    W0419 22:21:04.118865   783 device_context.cc:372] device: 0, cuDNN Version: 7.6.
    2021-04-19 22:21:11,599 - INFO - unique_endpoints {''}
    2021-04-19 22:21:11,599 - INFO - Found /home/aistudio/.cache/paddle/hapi/weights/s3fd_paddle.pdparams
    /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/tensor/creation.py:143: DeprecationWarning: `np.object` is a deprecated alias for the builtin `object`. To silence this warning, use `object` by itself. Doing this will not modify any behavior and is safe. 
    Deprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations
      if data.dtype == np.object:
    100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 222/222 [00:06<00:00, 33.08it/s]
    100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 222/222 [00:06<00:00, 33.33it/s]
    100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 222/222 [00:06<00:00, 32.48it/s]
    100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 222/222 [00:06<00:00, 32.86it/s]
    100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 222/222 [00:06<00:00, 32.73it/s]
    2021-04-19 22:22:07,362 - WARNING - IMAGEIO FFMPEG_WRITER WARNING: input image is not divisible by macro_block_size=16, resizing from (1200, 900) to (1200, 912) to ensure video compatibility with most codecs and players. To prevent resizing, make your input image divisible by the macro_block_size or set the macro_block_size to 1 (risking incompatibility).


## æœ€åä¸€æ­¥ï¼šä½¿ç”¨moviepyä¸ºç”Ÿæˆçš„è§†é¢‘åŠ ä¸ŠéŸ³ä¹


```python
# add audio
!pip install moviepy
```

    Looking in indexes: https://mirror.baidu.com/pypi/simple/
    Requirement already satisfied: moviepy in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (1.0.1)
    Requirement already satisfied: proglog<=1.0.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from moviepy) (0.1.9)
    Requirement already satisfied: decorator<5.0,>=4.0.2 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from moviepy) (4.4.0)
    Requirement already satisfied: imageio<3.0,>=2.5; python_version >= "3.4" in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from moviepy) (2.6.1)
    Requirement already satisfied: requests<3.0,>=2.8.1 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from moviepy) (2.22.0)
    Requirement already satisfied: imageio-ffmpeg>=0.2.0; python_version >= "3.4" in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from moviepy) (0.3.0)
    Requirement already satisfied: tqdm<5.0,>=4.11.2 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from moviepy) (4.36.1)
    Requirement already satisfied: numpy in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from moviepy) (1.20.2)
    Requirement already satisfied: pillow in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from imageio<3.0,>=2.5; python_version >= "3.4"->moviepy) (7.1.2)
    Requirement already satisfied: chardet<3.1.0,>=3.0.2 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from requests<3.0,>=2.8.1->moviepy) (3.0.4)
    Requirement already satisfied: urllib3!=1.25.0,!=1.25.1,<1.26,>=1.21.1 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from requests<3.0,>=2.8.1->moviepy) (1.25.6)
    Requirement already satisfied: idna<2.9,>=2.5 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from requests<3.0,>=2.8.1->moviepy) (2.8)
    Requirement already satisfied: certifi>=2017.4.17 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from requests<3.0,>=2.8.1->moviepy) (2019.9.11)



```python
#ä¸ºç”Ÿæˆçš„è§†é¢‘åŠ ä¸ŠéŸ³ä¹
from moviepy.editor import *

videoclip_1 = VideoFileClip("/home/aistudio/work/2.MP4")
videoclip_2 = VideoFileClip("./output/result.mp4")

audio_1 = videoclip_1.audio

videoclip_3 = videoclip_2.set_audio(audio_1)
videoclip_3.write_videofile("./output/finalout.mp4", audio_codec="aac")
```

    t:   0%|          | 0/223 [00:00<?, ?it/s, now=None]                

    Moviepy - Building video ./output/finalout.mp4.
    MoviePy - Writing audio in finaloutTEMP_MPY_wvf_snd.mp4
    MoviePy - Done.
    Moviepy - Writing video ./output/finalout.mp4
    


    t:  12%|â–ˆâ–        | 27/223 [00:00<00:01, 129.00it/s, now=None]                                                              


    Moviepy - Done !
    Moviepy - video ready ./output/finalout.mp4


# å¤šäººç‰ˆçš„èš‚èšå‘€å˜¿å®Œæˆï¼

è‡³æ­¤ï¼Œå¤šäººç‰ˆæœ¬çš„èš‚èšå‘€å˜¿å°±åˆ¶ä½œå®Œæˆå•¦~

**å¤§å®¶å¿«æ¥åŠ¨æ‰‹å°è¯•å§ï¼è®°ä½ï¼Œé€‰æ‹©äººç‰©é—´è·è¾ƒå¤§çš„åˆç…§æ•ˆæœæ›´ä½³å™¢ï¼**

å½“ç„¶ï¼Œ[PaddleGAN](https://github.com/PaddlePaddle/PaddleGAN)çš„åº”ç”¨ä¹Ÿä¸ä¼šæ­¢æ­¥äºæ­¤ï¼Œ[PaddleGAN](https://github.com/PaddlePaddle/PaddleGAN)è¿˜èƒ½æä¾›å„ç±»ä¸åŒçš„èƒ½åŠ›ï¼ŒåŒ…æ‹¬**å”‡å½¢åˆæˆï¼ˆå¯¹å˜´å‹ï¼‰ã€è§†é¢‘/ç…§ç‰‡ä¿®å¤ï¼ˆä¸Šè‰²ã€è¶…åˆ†ã€æ’å¸§ï¼‰ã€äººè„¸åŠ¨æ¼«åŒ–ã€ç…§ç‰‡åŠ¨æ¼«åŒ–**ç­‰ç­‰ï¼ï¼ä¸€ä¸ªæ¯”ä¸€ä¸ªæ›´å‰å®³ï¼

å¼ºçƒˆé¼“åŠ±å¤§å®¶ç©èµ·æ¥ï¼Œæ¿€å‘[PaddleGAN](https://github.com/PaddlePaddle/PaddleGAN)çš„æ½œèƒ½ï¼

è®°å¾—ç‚¹ä¸ªStaræ”¶è—å™¢~~
![](https://ai-studio-static-online.cdn.bcebos.com/e2a76e0a1b864259a11b3556dda2f6838503e476637a408f946b333d38438455)

